<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:lists="clr-namespace:Utility.Nodes.Demo.Lists" 
                    xmlns:panels="http://schemas.utility.com/panels" 
                    xmlns:local="clr-namespace:Utility.Nodes.Demo.Lists"
                    xmlns:t="http://schemas.utility.com/trees"
                    xmlns:conv="http://schemas.utility.com/converters">

    <local:HeaderTemplateSelector x:Key="HeaderTemplateSelector"/>
    <!--BasedOn="{StaticResource {x:Type t:CustomTreeViewItem}}"-->
    <Style x:Key="DefaultCustomStyle" TargetType="{x:Type t:CustomTreeViewItem}" BasedOn="{StaticResource {x:Type t:CustomTreeViewItem}}" >
        <Setter Property="Header" Value="{Binding Data, Mode=OneWay}"></Setter>
        <Setter Property="HeaderTemplateSelector" Value="{StaticResource HeaderTemplateSelector}"></Setter>
        <!--<Setter Property="HeaderTemplate">
            <Setter.Value>
                <DataTemplate>
                    <ContentControl Content="{Binding  Converter={x:Static conv:DefaultConverter.Instance}}" />
                </DataTemplate>
            </Setter.Value>
        </Setter>-->
    </Style>

    <local:ComboContainerStyleSelector x:Key="Combo" DefaultStyle="{StaticResource DefaultCustomStyle}"/>

    <DataTemplate DataType="{x:Type lists:TreeViewModel}">
        <t:CustomTreeView ItemsSource="{Binding Nodes, Mode=OneWay}"
                          ItemContainerStyleSelector="{StaticResource Combo}">
            <!--<t:CustomTreeView.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="1"/>
                </ItemsPanelTemplate>
            </t:CustomTreeView.ItemsPanel>-->
        </t:CustomTreeView>
    </DataTemplate>


</ResourceDictionary>