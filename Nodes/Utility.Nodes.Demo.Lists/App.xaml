<Application x:Class="Utility.Nodes.Demo.Lists.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Utility.Nodes.Demo.Lists"
             xmlns:bc="http://schemas.utility.com/Breadcrumbs"
             xmlns:trees="http://schemas.utility.com/trees"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:sys="clr-namespace:System;assembly=System.Runtime"
             xmlns:inf="clr-namespace:Utility.Nodes.Meta;assembly=Utility.Nodes.Meta"
             xmlns:hc="https://handyorg.github.io/handycontrol"
             xmlns:beh="http://schemas.utility.com/behaviors"
             xmlns:att="http://schemas.utility.com/attached"
             xmlns:tree="clr-namespace:Utility.Trees;assembly=Utility.Trees"
             xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
             xmlns:node="clr-namespace:Utility.Nodes;assembly=Utility.Nodes"
             xmlns:abel="http://schemas.danielsabel.com/tinyhtmlwpf/2020"
             xmlns:res="http://schemas.utility.com/resourcedictionary"
             xmlns:utl="http://schemas.utility.com/utilitywpf"
             xmlns:btns="http://schemas.utility.com/buttons"
             xmlns:markup="http://schemas.utility.com/markup"
             xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:grid="clr-namespace:Syncfusion.UI.Xaml.Grid;assembly=Syncfusion.SfGrid.WPF"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d">

    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <res:SharedResourceDictionary Source="/Utility.Nodes.WPF;component/Themes/Shared.xaml" />
                <ResourceDictionary Source="/Utility.WPF.Controls.Trees;component/Themes/CustomTreeViewItem.xaml" />
                <ResourceDictionary Source="/Utility.WPF.Controls.Breadcrumbs;component/Themes/Generic.xaml" />
                <res:SharedResourceDictionary Source="/Utility.WPF.Controls.ComboBoxes;component/Themes/CustomComboTreeViewItemStyle.xaml" />
                <res:SharedResourceDictionary Source="/Utility.WPF.Controls.Trees;component/Themes/ComboTreeViewItem.xaml" />
                <res:SharedResourceDictionary Source="/Utility.Nodes.WPF;component/Themes/Generic.xaml" />
                <res:SharedResourceDictionary Source="/Utility.Models.Templates;component/VisualWriteTemplates.xaml" />
                <res:SharedResourceDictionary Source="/Utility.Models.Templates;component/VisualReadOnlyTemplates.xaml" />
                <res:SharedResourceDictionary Source="/Utility.Nodes.WPF.Templates.SyncFusion;component/Templates.xaml" />
                <res:SharedResourceDictionary Source="/Utility.Nodes.Demo.Lists;component/Themes/SyncFusion.xaml"/>
            </ResourceDictionary.MergedDictionaries>      

            <DataTemplate x:Key="ContainerTemplate" DataType="{x:Type node:NodeViewModel}">
                <trees:CustomTreeView
                    ItemContainerStyleSelector="{StaticResource ContainerStyleSelector}"
                    ItemTemplateSelector="{StaticResource ContainerTemplateSelector}"
                    ItemsSource="{markup:Array {Binding}}" />
            </DataTemplate>

  
            
            <local:ContainerTemplateSelector x:Key="ContainerTemplateSelector" />

            <Style x:Key="DefaultCustomStyle" TargetType="{x:Type trees:CustomTreeViewItem}" BasedOn="{StaticResource DefaultStyle}">
                <Setter Property="SelectedIndex" Value="-1" />
                <Setter Property="SelectedItem" Value="{Binding Current, Mode=TwoWay}" />             
            </Style>

            <Style x:Key="LabelValue"  TargetType="ItemsControl">
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <Grid  Margin="0,2,0,2"   HorizontalAlignment="Stretch">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="100"></ColumnDefinition>
                                    <ColumnDefinition Width="10"></ColumnDefinition>
                                    <ColumnDefinition Width="400"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                            </Grid>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--<Style x:Key="LabelStyle"  TargetType="ContentPresenter" >
                <Setter Property="Opacity" Value="0.9"></Setter>
                <Setter Property="HorizontalAlignment" Value="Right"></Setter>
                --><!--<Setter Property="FontWeight" Value="DemiBold"></Setter>--><!--
                <Setter Property="ToolTip" Value="{StaticResource TokenToolTip}"></Setter>
                <Setter Property="ToolTipService.InitialShowDelay" Value="300"></Setter>
                <Setter Property="ContentSource" Value="Header"></Setter>
                --><!--<Setter Property="Text" Value="{Binding Path=Name, Mode=OneWay}"></Setter>-->
                <!--<Setter Property="Foreground">
            <Setter.Value>
                <SolidColorBrush Color="{Binding Path=Value.Type, Converter={x:Static controls:Converters.JTokenTypeToColorConverter}}" />
            </Setter.Value>
        </Setter>--><!--
            </Style>-->

            <!--<Style x:Key="LabelValueStyle" TargetType="TreeViewItem">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TreeViewItem">
                            <ItemsControl Style="{StaticResource LabelValue}">
                                <ContentPresenter Style="{StaticResource LabelStyle}" ContentSource="Header" />
                                <ItemsPresenter  Grid.Column="2" />
                            </ItemsControl>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>-->

            <Style x:Key="ContentStyle" TargetType="{x:Type TreeViewItem}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type TreeViewItem}">
                            <Grid>
                                <!--<Ellipse Fill="SeaGreen" Height="20" Width="20"></Ellipse>-->
                                <ContentPresenter ContentSource="Header" />
                            </Grid>                      
                            <!--<ContentPresenter Style="{StaticResource LabelStyle}" ContentSource="Header" />-->                              
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="TableRowStyle" TargetType="{x:Type TreeViewItem}">
                <!--<Setter Property="MinWidth" Value="300" ></Setter>
                <Setter Property="MinHeight" Value="300" ></Setter>-->
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <!--<UniformGrid Width="300" Rows="1"></UniformGrid>-->
                            <hc:UniformSpacingPanel ItemWidth="60"></hc:UniformSpacingPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate  TargetType="{x:Type TreeViewItem}">
                            <ItemsPresenter />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="TableStyle" TargetType="{x:Type TreeViewItem}">
                <Setter Property="MinWidth" Value="300"></Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type TreeViewItem}">
                            <ItemsPresenter />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <local:ContainerStyleSelector x:Key="ContainerStyleSelector"
                                          TableRowStyle="{StaticResource TableRowStyle}"
                                          TableStyle="{StaticResource TableStyle}"
                                          ContentStyle="{StaticResource ContentStyle}"
                                          HeaderedStyle="{StaticResource DefaultCustomStyle}">
            </local:ContainerStyleSelector>

            <DataTemplate x:Key="MasterTemplate" DataType="{x:Type node:NodeViewModel}">
                <trees:CustomTreeView
                    ItemsSource="{markup:Array {Binding}}"
                    ItemTemplateSelector="{StaticResource ContainerTemplateSelector}"
                    ItemContainerStyleSelector="{StaticResource ContainerStyleSelector}">
                    <!--<trees:CustomTreeView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Ori></StackPanel>
                            --><!--<panels:AnimatedWrapPanel />--><!--
                        </ItemsPanelTemplate>
                    </trees:CustomTreeView.ItemsPanel>-->
                </trees:CustomTreeView>
            </DataTemplate>


            <DataTemplate x:Key="ExceptionsTemplate">
                <DataGrid ItemsSource="{Binding }"></DataGrid>
            </DataTemplate>
        </ResourceDictionary>
    </Application.Resources>
</Application>