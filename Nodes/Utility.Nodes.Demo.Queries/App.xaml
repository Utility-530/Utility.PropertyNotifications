<Application x:Class="Utility.Nodes.Demo.Queries.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Utility.Nodes.Demo.Queries" 
             xmlns:obj="http://schemas.utility.com/objects"
             x:Name="myApplication"
     >
    <Application.Resources>
        <ResourceDictionary>

            <ObjectDataProvider x:Key="SchemaFromFile"
                ObjectType="{x:Type local:SchemaLoader}"
                MethodName="LoadSchema" >
            </ObjectDataProvider>

            
            <DataTemplate  DataType="{x:Type local:MainViewModel}">

                <DockPanel>
                    <WrapPanel DockPanel.Dock="Top" HorizontalAlignment="Left">
                        <Button Command="{Binding RefreshCommand}" Width="200" Height="30" Margin="2">refresh</Button>
                        <Button Command="{Binding SaveCommand}" Width="200" Height="30" Margin="2">save</Button>
                    </WrapPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition Width="5"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <!--<TreeView x:Name="MyTreeView"            
            AlternationCount="{Binding RelativeSource={RelativeSource Self}, Path=Items.Count}" >

                        <TreeViewItem Header="Item2" >
                            <TreeViewItem Header="SubItem1"/>
                            <TreeViewItem Header="SubItem2" />
                        </TreeViewItem>
                        <TreeViewItem Header="Item3" >
                            <TreeViewItem Header="SubItem3" />
                            <TreeViewItem Header="SubItem4" />
                            <TreeViewItem Header="SubItem5" />
                            <TreeViewItem Header="SubItem6" />
                            <TreeViewItem Header="SubItem7" />
                            <TreeViewItem Header="SubItem8" >
                                <TreeViewItem Header="SubSubItem1" />
                                <TreeViewItem Header="SubSubItem2" />
                                <TreeViewItem Header="SubSubItem3" />
                                <TreeViewItem Header="SubSubItem4" />
                            </TreeViewItem>
                        </TreeViewItem>

                    </TreeView>-->

                        <DataGrid x:Name="DataGrid" ItemsSource="{Binding Users}"/>

                        <GridSplitter Grid.Column="1" Width="5" VerticalAlignment="Stretch" HorizontalAlignment="Center"/>

                        <obj:JsonControl Grid.Column="2" Object="{Binding Filter}" Schema="{Binding Source={StaticResource SchemaFromFile}}"/>

                        <!--<TabControl Grid.Column="2">
            <TabItem Header="Pipe-Tree" x:Name="pipe_repository_tree"/>
            <TabItem Header="Property-Grid" x:Name="propertygrid"/>
            <TabItem Header="Filter-Tree" x:Name="filtertree"/>
            <TabItem Header="DataTemplate-Tree" x:Name="datatemplatetree"/>
            <TabItem Header="Style-Tree" x:Name="styletree"/>
        </TabControl>-->

                        <!--<Grid Grid.Column="6">
                        <ct:CustomTreeView Grid.Row="4" ItemsSource="{Binding Filters}" >
                            <ct:CustomTreeView.ItemContainerStyleSelector>
                                <bc:ItemContainerStyleSelector
                                    DefaultStyle="{StaticResource MyDefaultContentStyle}" 
                                    SelectableStyle="{StaticResource SelectedTreeViewItem}" 
                                    BreadcrumbStyle="{StaticResource BreachCrumb}" 
                                    BreadcrumbRootStyle ="{StaticResource BreadCrumbRootTreeViewItem}">
                                </bc:ItemContainerStyleSelector>
                            </ct:CustomTreeView.ItemContainerStyleSelector>
                        </ct:CustomTreeView>
                    </Grid>-->
                    </Grid>
                </DockPanel>

            </DataTemplate>
            <ResourceDictionary.MergedDictionaries/>
        </ResourceDictionary>
    </Application.Resources>
</Application>
