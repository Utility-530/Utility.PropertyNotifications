<UserControl x:Class="Utility.WPF.Demo.SplitButtons.SplitButtonsUserControl"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sb="http://schemas.utility.com/splitbuttons">

    <UserControl.Resources>
        <!-- Sample data for dropdown items -->
        <x:Array x:Key="SaveOptions" Type="sys:String" xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:String>Save As...</sys:String>
            <sys:String>Save Copy</sys:String>
            <sys:String>Save Template</sys:String>
            <sys:String>Export PDF</sys:String>
        </x:Array>

        <x:Array x:Key="NewOptions" Type="sys:String" xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:String>New Document</sys:String>
            <sys:String>New From Template</sys:String>
            <sys:String>New Blank</sys:String>
            <sys:String>New Project</sys:String>
        </x:Array>

        <!-- Style for the demo sections -->
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Margin" Value="0,20,0,10" />
            <Setter Property="Foreground" Value="#2C3E50" />
        </Style>

        <Style x:Key="DescriptionStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Margin" Value="0,0,0,10" />
            <Setter Property="Foreground" Value="#7F8C8D" />
            <Setter Property="TextWrapping" Value="Wrap" />
        </Style>

        <Style x:Key="DemoSplitButton" TargetType="sb:SplitButton">
            <Setter Property="Margin" Value="20" />
            <Setter Property="Height" Value="35" />
            <Setter Property="MinWidth" Value="120" />
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0">
            <TextBlock Text="SplitButton Control Demo"
                       FontSize="24" FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10" />
            <TextBlock Text="This demo showcases the custom SplitButton control with various configurations and use cases."
                       Style="{StaticResource DescriptionStyle}"
                       HorizontalAlignment="Center" />
        </StackPanel>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Basic Usage Section -->
                <TextBlock Text="1. Basic SplitButtons" Style="{StaticResource SectionHeaderStyle}" />
                <TextBlock Text="Simple SplitButtons with text content and dropdown options."
                           Style="{StaticResource DescriptionStyle}" />

                <WrapPanel>
                    <sb:SplitButton Content="Save"
                                       ItemsSource="{StaticResource SaveOptions}"
                                       Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged" />

                    <sb:SplitButton Content="New"
                                       ItemsSource="{StaticResource NewOptions}"
                                       Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged" />

                    <sb:SplitButton Content="Actions"
                                       Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="Copy" />
                            <ComboBoxItem Content="Paste" />
                            <ComboBoxItem Content="Delete" />
                            <Separator />
                            <ComboBoxItem Content="Properties" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>
                </WrapPanel>

                <!-- Content with Icons Section -->
                <TextBlock Text="2. SplitButtons with Icons" Style="{StaticResource SectionHeaderStyle}" />
                <TextBlock Text="SplitButtons using ContentTemplate to display icons alongside text."
                           Style="{StaticResource DescriptionStyle}" />

                <WrapPanel Margin="0,0,0,2">
                    <sb:SplitButton Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Content>

                                <TextBlock Text="📧" FontSize="14" Margin="0,0,5,0" />
                        </sb:SplitButton.Content>
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="📤 Send Email" />
                            <ComboBoxItem Content="📥 Check Inbox" />
                            <ComboBoxItem Content="📝 Compose" />
                            <ComboBoxItem Content="⚙️ Settings" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>

                    <sb:SplitButton Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🖨️" FontSize="14" Margin="0,0,5,0" />
                                <TextBlock Text="Print" VerticalAlignment="Center" />
                            </StackPanel>
                        </sb:SplitButton.Content>
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="🖨️ Quick Print" />
                            <ComboBoxItem Content="📄 Print Preview" />
                            <ComboBoxItem Content="🖨️ Print Setup" />
                            <ComboBoxItem Content="📊 Print Statistics" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>
                </WrapPanel>

                <!-- Different Sizes Section -->
                <TextBlock Text="3. Different Sizes" Style="{StaticResource SectionHeaderStyle}" />
                <TextBlock Text="SplitButtons in various sizes to fit different UI contexts."
                           Style="{StaticResource DescriptionStyle}" />

                <WrapPanel Margin="0,0,0,2">
                    <sb:SplitButton Content="Small"
                                       Height="25" MinWidth="80" Margin="2,2"
                                       FontSize="10"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="Option 1" />
                            <ComboBoxItem Content="Option 2" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>

                    <sb:SplitButton Content="Medium"
                                       Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="Option 1" />
                            <ComboBoxItem Content="Option 2" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>

                    <sb:SplitButton Content="Large"
                                       Height="45" MinWidth="150" Margin="10"
                                       FontSize="14"
                                       SelectionChanged="SplitButton_SelectionChanged">
                        <sb:SplitButton.Items>
                            <ComboBoxItem Content="Option 1" />
                            <ComboBoxItem Content="Option 2" />
                        </sb:SplitButton.Items>
                    </sb:SplitButton>
                </WrapPanel>

                <!-- Data Binding Section -->
                <TextBlock Text="4. Data Binding Example" Style="{StaticResource SectionHeaderStyle}" />
                <TextBlock Text="SplitButton bound to dynamic data with string formatting."
                           Style="{StaticResource DescriptionStyle}" />

                <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                    <sb:SplitButton x:Name="DataBoundSplitButton"
                                       Content="{Binding SelectedAction}"
                                       ContentStringFormat="Action: {0}"
                                       ItemsSource="{Binding AvailableActions}"
                                       SelectedItem="{Binding SelectedAction}"
                                       Style="{StaticResource DemoSplitButton}"
                                       SelectionChanged="SplitButton_SelectionChanged" />

                    <Button Content="Update Data"
                            Margin="10,0,0,0"
                            Height="35"
                            Click="UpdateDataButton_Click" />
                </StackPanel>

                <!-- Status and Events Section -->
                <TextBlock Text="5. Event Information" Style="{StaticResource SectionHeaderStyle}" />
                <TextBlock Text="Monitor SplitButton events and property changes."
                           Style="{StaticResource DescriptionStyle}" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <GroupBox Header="HasContent Status" Grid.Column="0">
                        <StackPanel>
                            <sb:SplitButton x:Name="TestSplitButton"
                                               Content="Test Button"
                                               Style="{StaticResource DemoSplitButton}"
                                               SelectionChanged="SplitButton_SelectionChanged">
                                <sb:SplitButton.Items>
                                    <ComboBoxItem Content="Clear Content" />
                                    <ComboBoxItem Content="Set Text Content" />
                                    <ComboBoxItem Content="Set Complex Content" />
                                </sb:SplitButton.Items>
                            </sb:SplitButton>
                            <TextBlock x:Name="HasContentStatus"
                                       Text="HasContent: True"
                                       Margin="10,5" />
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Event Log" Grid.Column="2">
                        <ScrollViewer Height="100" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="EventLog"
                                       Text="Ready - Select any SplitButton..."
                                       TextWrapping="Wrap"
                                       FontFamily="Consolas"
                                       FontSize="10" />
                        </ScrollViewer>
                    </GroupBox>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2"
                BorderBrush="#BDC3C7"
                BorderThickness="0,1,0,0"
                Padding="0,10,0,0"
                Margin="0,20,0,0">
            <TextBlock Text="SplitButton inherits from ComboBox and adds Content, ContentTemplate, ContentTemplateSelector, and ContentStringFormat properties."
                       Style="{StaticResource DescriptionStyle}"
                       HorizontalAlignment="Center" />
        </Border>
    </Grid>
</UserControl>