<Window x:Class="Utility.WPF.Demo.DataGrids.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dgrids="http://schemas.utility.com/datagrids"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:demo="clr-namespace:Utility.WPF.Demo.Common.ViewModels;assembly=Utility.WPF.Demo.Common"
        xmlns:temp="http://schemas.utility.com/templates"
        xmlns:conv="http://schemas.utility.com/converters"
        xmlns:e="clr-namespace:EventBinder;assembly=EventBinder"
        xmlns:local="clr-namespace:Utility.WPF.Demo.DataGrids"
        xmlns:objects="http://schemas.utility.com/objects"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="MainWindow" Height="800" Width="600">

    <FrameworkElement.DataContext>
        <demo:RegionsViewModel></demo:RegionsViewModel>
    </FrameworkElement.DataContext>
    <Window.Resources>
        <ResourceDictionary>
            <Style TargetType="Button">
                <Setter Property="Margin" Value="0" />
                <Setter Property="Padding" Value="10,2,10,2" />
            </Style>
            <Style TargetType="DataGrid" BasedOn="{StaticResource {x:Type DataGrid}}">
                <Setter Property="IsTabStop" Value="True" />
                <Setter Property="Background" Value="WhiteSmoke" />
                <Setter Property="AlternatingRowBackground" Value="WhiteSmoke" />
                <Setter Property="AutoGenerateColumns" Value="False" />
                <Setter Property="AlternationCount" Value="2" />
                <Setter Property="IsReadOnly" Value="True" />
                <Setter Property="Margin" Value="6" />
                <Setter Property="RowHeaderWidth" Value="0" />
                <Setter Property="VerticalGridLinesBrush" Value="LightSteelBlue" />
                <Setter Property="HorizontalGridLinesBrush" Value="LightSteelBlue" />
                <Setter Property="CellStyle">
                    <Setter.Value>
                        <Style TargetType="DataGridCell">
                            <Setter Property="BorderThickness" Value="0" />
                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                            <!-- The selected row is shown in blue even when focus has been lost -->
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Foreground" Value="Black" />
                                    <!--<Setter Property="Background" Value="CornflowerBlue" />-->
                                    <!--<Setter Property="Foreground" Value="White" />-->
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--<Style TargetType="{x:Type DataGridCell}">
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                        -->
            <!--<Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}" />-->
            <!--
                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrush}}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                    </Trigger>
                </Style.Triggers>
            </Style>-->

            <local:MyDataTemplateSelector x:Key="MyDataTemplateSelector">
                <!--<local:MyDataTemplateSelector.TypeTemplate>
                    <DataTemplate>
                        <objects:ObjectComboBox
                    x:Name="ebdc"
                    Object="{Binding Mode=OneWay, Converter={x:Static conv:DefaultConverter.Instance }}">
                            <objects:ObjectComboBox.Filters>
                                <x:Array Type="{x:Type sys:Object}">
                                    <local:TypeFilter />
                                </x:Array>
                            </objects:ObjectComboBox.Filters>
                        </objects:ObjectComboBox>
                    </DataTemplate>
                </local:MyDataTemplateSelector.TypeTemplate>-->
            </local:MyDataTemplateSelector>
        </ResourceDictionary>
    </Window.Resources>
    <ScrollViewer>

        <Grid Margin="20" Background="GhostWhite">
            <Grid.RowDefinitions>
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="20" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Row="1" Orientation="Horizontal">
                <Button Content="Add Region 1" x:Name="buttonAddRegion1"  Click="{e:EventBinding AddRegion1}" />
                <Separator Height="0" Width="10" />
                <Button Content="Add Region 2" x:Name="buttonAddRegion2" Height="23" VerticalAlignment="Bottom"  Click="{e:EventBinding AddRegion2}" />
                <Separator Height="0" Width="10" />
                <Button Content="Remove Region" x:Name="buttonRemoveRegion" Height="24" VerticalAlignment="Top" Click="{e:EventBinding RemoveRegion}" />
                <Separator Height="0" Width="10" />
                <Button Content="Clear Regions" x:Name="buttonClearRegions" Height="24" VerticalAlignment="Top" Click="{e:EventBinding ClearRegions}" />
            </StackPanel>

            <Label Grid.Row="3">A data grid using DataGridLayoutBehavior with four columns in a shared size group</Label>
            <DataGrid Grid.Row="4" Grid.Column="0" ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}"
                  CanUserSortColumns="False"
                  IsReadOnly="True"
                  Margin="0"
                  HorizontalAlignment="Left">
                <i:Interaction.Behaviors>
                    <dgrids:ShareWidthsBehavior />
                </i:Interaction.Behaviors>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Text" Binding="{Binding Path=Text}" />
                    <DataGridTextColumn Header="Left" Binding="{Binding Path=Left}" dgrids:DataGridLayoutBehavior.SharedSizeGroup="X" />
                    <DataGridTextColumn Header="Top" Binding="{Binding Path=Top}" dgrids:DataGridLayoutBehavior.SharedSizeGroup="X" />
                    <DataGridTextColumn Header="Right" Binding="{Binding Path=Right}" dgrids:DataGridLayoutBehavior.SharedSizeGroup="X" />
                    <DataGridTextColumn Header="Bottom" Binding="{Binding Path=Bottom}" dgrids:DataGridLayoutBehavior.SharedSizeGroup="X" />
                </DataGrid.Columns>
            </DataGrid>

            <Label Grid.Row="6">Share Widths Behavior</Label>
            <DataGrid Grid.Row="7" Grid.Column="0" ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}"
                      CanUserSortColumns="False" IsReadOnly="True" HorizontalAlignment="Left">
                <i:Interaction.Behaviors>
                    <dgrids:ShareWidthsBehavior />
                </i:Interaction.Behaviors>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Text" Binding="{Binding Path=Text}" />
                    <DataGridTextColumn Header="Left" Binding="{Binding Path=Left}" />
                    <DataGridTextColumn Header="Top" Binding="{Binding Path=Top}" />
                    <DataGridTextColumn Header="Right" Binding="{Binding Path=Right}" />
                    <DataGridTextColumn Header="Bottom" Binding="{Binding Path=Bottom}" />
                </DataGrid.Columns>
            </DataGrid>

            <Label Grid.Row="9" Grid.Column="0" >A fixed width StackPanel containing a data grid with the width of the last four columns set to "*"</Label>
            <Border Grid.Row="10" Grid.Column="0" Width="400" HorizontalAlignment="Left">
                <DataGrid ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}"  CanUserSortColumns="False" IsReadOnly="True" Margin="0" HorizontalAlignment="Left">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Text" Binding="{Binding Path=Text}" />
                        <DataGridTextColumn Header="Left" Width="*" Binding="{Binding Path=Left}" />
                        <DataGridTextColumn Header="Top" Width="*" Binding="{Binding Path=Top}" />
                        <DataGridTextColumn Header="Right" Width="*" Binding="{Binding Path=Right}" />
                        <DataGridTextColumn Header="Bottom" Width="*" Binding="{Binding Path=Bottom}" />
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <Label Grid.Row="12" Grid.Column="0" >Shrink Columns To Fit Behavior</Label>
            <Border Grid.Row="13" Grid.Column="0" Width="400" HorizontalAlignment="Left">
                <DataGrid ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}" CanUserSortColumns="False" IsReadOnly="True" Margin="0" HorizontalAlignment="Left">
                    <i:Interaction.Behaviors>
                        <dgrids:ShrinkColumnsToFitBehavior />
                    </i:Interaction.Behaviors>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Text" Binding="{Binding Path=Text}" />
                        <DataGridTextColumn Header="Left"  Binding="{Binding Path=Left}" />
                        <DataGridTextColumn Header="Top"  Binding="{Binding Path=Top}" />
                        <DataGridTextColumn Header="Right"  Binding="{Binding Path=Right}" />
                        <DataGridTextColumn Header="Bottom"  Binding="{Binding Path=Bottom}" />
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <Label Grid.Row="15" Grid.Column="0" >Hide Browsable False</Label>
            <Border Grid.Row="16" Grid.Column="0" Width="400" HorizontalAlignment="Left">
                <DataGrid ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}" CanUserSortColumns="False" IsReadOnly="True" Margin="0"
                      HorizontalAlignment="Left"
                      AutoGenerateColumns="True">
                    <i:Interaction.Behaviors>
                        <dgrids:DataGridHideBrowsableFalseBehavior />
                    </i:Interaction.Behaviors>
                </DataGrid>
            </Border>

            <Label Grid.Row="18">Display Column Header Behavior;</Label>
            <DataGrid Grid.Row="19" Grid.Column="0" ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}"
      RowHeaderWidth="0"  HeadersVisibility="Column"
                      CanUserSortColumns="False" IsReadOnly="True" Margin="0" AutoGenerateColumns="True">
                <i:Interaction.Behaviors>
                    <dgrids:DisplayColumnHeaderBehavior />
                </i:Interaction.Behaviors>
            </DataGrid>

            <Label Grid.Row="21">Custom Template Behavior</Label>
            <DataGrid x:Name="DataGridSpecial"  Grid.Row="22" Grid.Column="0" ItemsSource="{Binding Regions}" SelectedItem="{Binding SelectedRegion, Mode=TwoWay}"
                  RowHeaderWidth="0"
                  HeadersVisibility="Column"
                  CanUserSortColumns="False"

                  Margin="0"
                  AutoGenerateColumns="True">
                <i:Interaction.Behaviors>
                    <local:CustomDataGridColumnSelectorBehavior />
                </i:Interaction.Behaviors>
            </DataGrid>
        </Grid>
    </ScrollViewer>
</Window>