<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
                    xmlns:hc="https://handyorg.github.io/handycontrol"
                    xmlns:att="http://schemas.utility.com/attached"
                    xmlns:conv="http://schemas.utility.com/converters"
                    xmlns:enms="clr-namespace:Utility.Enums;assembly=Utility.Enums"
                    xmlns:local="clr-namespace:Utility.WPF.Controls.Buttons">


    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Utility.WPF.Geometries;component/Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Storyboard
                    x:Key="StoryboardLeft"
                   >

        <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">
            <hc:DiscreteGeometryKeyFrame KeyTime="0:0:0.0" Value="{StaticResource UpGeometry}" />
            <hc:EasingGeometryKeyFrame KeyTime="0:0:0.5" Value="{StaticResource LeftGeometry}">
                <hc:EasingGeometryKeyFrame.EasingFunction>
                    <QuarticEase EasingMode="EaseInOut" />
                </hc:EasingGeometryKeyFrame.EasingFunction>
            </hc:EasingGeometryKeyFrame>
        </hc:GeometryAnimationUsingKeyFrames>


    </Storyboard>


    <Storyboard
                    x:Key="StoryboardDown"
                   >

        <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">
            <hc:DiscreteGeometryKeyFrame KeyTime="0:0:0.0" Value="{StaticResource LeftGeometry}" />
            <hc:EasingGeometryKeyFrame KeyTime="0:0:0.5" Value="{StaticResource DownGeometry}">
                <hc:EasingGeometryKeyFrame.EasingFunction>
                    <QuarticEase EasingMode="EaseInOut" />
                </hc:EasingGeometryKeyFrame.EasingFunction>
            </hc:EasingGeometryKeyFrame>
        </hc:GeometryAnimationUsingKeyFrames>

    </Storyboard>

    <Storyboard
                    x:Key="StoryboardRight"
                   >

        <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">
            <hc:DiscreteGeometryKeyFrame KeyTime="0:0:0.0" Value="{StaticResource DownGeometry}" />
            <hc:EasingGeometryKeyFrame KeyTime="0:0:0.5" Value="{StaticResource RightGeometry}">
                <hc:EasingGeometryKeyFrame.EasingFunction>
                    <QuarticEase EasingMode="EaseInOut" />
                </hc:EasingGeometryKeyFrame.EasingFunction>
            </hc:EasingGeometryKeyFrame>
        </hc:GeometryAnimationUsingKeyFrames>

    </Storyboard>

    <Storyboard
                    x:Key="StoryboardUp"
                   >

        <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">
            <hc:DiscreteGeometryKeyFrame KeyTime="0:0:0.0" Value="{StaticResource RightGeometry}" />
            <hc:EasingGeometryKeyFrame KeyTime="0:0:0.5" Value="{StaticResource UpGeometry}">
                <hc:EasingGeometryKeyFrame.EasingFunction>
                    <QuarticEase EasingMode="EaseInOut" />
                </hc:EasingGeometryKeyFrame.EasingFunction>
            </hc:EasingGeometryKeyFrame>
        </hc:GeometryAnimationUsingKeyFrames>

    </Storyboard>

    <Style TargetType="{x:Type local:DirectionButton}" >
        <Setter Property="BorderBrush" Value="Black"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="Black"/>
        <Setter Property="Width" Value="40"/>
        <Setter Property="Height" Value="40"/>
        <!--<Setter Property="att:Base.Integer" Value="0"></Setter>-->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:DirectionButton}">
                    <Grid>
                        <Border x:Name="BackBorder" Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}"/>
                        <!--<TextBlock x:Name="Off" Margin="30,0,0,0" VerticalAlignment="Center"  HorizontalAlignment="Center"><Run Text="OFF"/></TextBlock>
                            <TextBlock x:Name="On" Margin="0,0,30,0" VerticalAlignment="Center"  HorizontalAlignment="Center"><Run Text="ON"/></TextBlock>-->


                        <Border x:Name="Slider1" Margin="0,0,0,20"  Width="20" Height="20" >
                            <Path Data="{StaticResource UpGeometry}" Stretch="Uniform" Fill="LightGray"></Path>
                        </Border>
                        <Border x:Name="Slider2" Margin="0,0,20,0" Width="20" Height="20" >
                            <Path Data="{StaticResource LeftGeometry}" Stretch="Uniform" Fill="LightGray"></Path>
                        </Border>
                        <Border x:Name="Slider3" Margin="0,20,0,0"  Width="20" Height="20" >
                            <Path Data="{StaticResource DownGeometry}" Stretch="Uniform" Fill="LightGray"></Path>
                        </Border>
                        <Border x:Name="Slider4" Margin="20,0,0,0" Width="20" Height="20" >
                            <Path Data="{StaticResource RightGeometry}" Stretch="Uniform" Fill="LightGray"></Path>

                        </Border>


                        <Border x:Name="Border" Margin="0,0,0,20" Width="20" Height="20">

                            <hc:TransitioningContentControl x:Name="Slider"   >
                                <Path
                        Name="PathDemo"
                        Data="{StaticResource UpGeometry}"
                                            Stretch="Uniform"
                        Fill="#3b5998">
                                    <!--<Path.RenderTransform>
                                                <ScaleTransform ScaleX="0.5" ScaleY="0.5" />
                                            </Path.RenderTransform>-->
                                </Path>
                            </hc:TransitioningContentControl>
                        </Border>

                    </Grid>
                    <ControlTemplate.Triggers>
                        <!--<EventTrigger RoutedEvent="Border.Loaded" SourceName="Slider">
                                <SkipStoryboardToFill BeginStoryboardName="checkedSB" />
                                <SkipStoryboardToFill BeginStoryboardName="checkedSB2" />
                                <SkipStoryboardToFill BeginStoryboardName="uncheckedSB" />
                                <SkipStoryboardToFill BeginStoryboardName="uncheckedSB2" />
                            </EventTrigger>-->
                        <DataTrigger Binding="{Binding Movement, RelativeSource={RelativeSource Self}}" Value="{x:Static enms:XYMovement.RightToLeft}">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard x:Name="One">
                                    <Storyboard Storyboard.TargetProperty="Margin" Storyboard.TargetName="Border">
                                        <ThicknessAnimation To="0,0,20,0" Duration="00:00:00.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                                <BeginStoryboard x:Name="K1" Storyboard="{StaticResource StoryboardLeft}"></BeginStoryboard>
                                <!--<BeginStoryboard x:Name="checkedSB2">
                                        <Storyboard Storyboard.TargetProperty="(Control.Background).(SolidColorBrush.Color)">
                                            <ColorAnimation To="LightSeaGreen" Duration="00:00:00.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>-->
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="One"></StopStoryboard>
                                <StopStoryboard BeginStoryboardName="K1"></StopStoryboard>
                            </DataTrigger.ExitActions>
                            <!--<DataTrigger.ExitActions>
                                    <BeginStoryboard x:Name="uncheckedSB">
                                        <Storyboard Storyboard.TargetProperty="Margin" Storyboard.TargetName="Slider">
                                            <ThicknessAnimation To="0" Duration="00:00:00.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <BeginStoryboard x:Name="uncheckedSB2">
                                        <Storyboard Storyboard.TargetProperty="(Control.Background).(SolidColorBrush.Color)">
                                            <ColorAnimation To="{x:Null}" Duration="00:00:00.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>-->


                        </DataTrigger>
                        <DataTrigger Binding="{Binding Movement, RelativeSource={RelativeSource Self}}" Value="{x:Static enms:XYMovement.TopToBottom}">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard x:Name="Two" >
                                    <Storyboard  Storyboard.TargetProperty="Margin" Storyboard.TargetName="Border">
                                        <ThicknessAnimation To="0,20,0,0" Duration="00:00:00.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                                <BeginStoryboard x:Name="K2" Storyboard="{StaticResource StoryboardDown}"></BeginStoryboard>
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="Two"/>
                                <StopStoryboard BeginStoryboardName="K2"/>
                            </DataTrigger.ExitActions>

                        </DataTrigger>
                        <DataTrigger Binding="{Binding Movement, RelativeSource={RelativeSource Self}}" Value="{x:Static enms:XYMovement.LeftToRight}">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard x:Name="Three">
                                    <Storyboard Storyboard.TargetProperty="Margin" Storyboard.TargetName="Border">
                                        <ThicknessAnimation To="20,0,0,0" Duration="00:00:00.2"/>
                                    </Storyboard>
                                </BeginStoryboard>

                                <BeginStoryboard x:Name="K3" Storyboard="{StaticResource StoryboardRight}"></BeginStoryboard>
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="Three"/>
                                <StopStoryboard BeginStoryboardName="K3"/>
                            </DataTrigger.ExitActions>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Movement, RelativeSource={RelativeSource Self}}" Value="{x:Static enms:XYMovement.BottomToTop}">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard x:Name="Four">
                                    <Storyboard Storyboard.TargetProperty="Margin" Storyboard.TargetName="Border">
                                        <ThicknessAnimation To="0,0,0,20" Duration="00:00:00.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                                <BeginStoryboard x:Name="K4" Storyboard="{StaticResource StoryboardUp}"></BeginStoryboard>

                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="Four"/>
                                <StopStoryboard BeginStoryboardName="K4"/>
                            </DataTrigger.ExitActions>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>