<ToggleButton x:Class="Utility.WPF.Controls.Buttons.PlayPauseButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Utility.WPF.Controls.Buttons"
              xmlns:hc="https://handyorg.github.io/handycontrol"
              xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
              mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
     BorderBrush="Transparent" Background="Transparent"
                      x:Name="ToggleButton"
                    Width="140"
                    Height="140"
                    Margin="60">
    <FrameworkElement.Resources>
        <Geometry x:Key="Triangle3Geometry">
            m 22.56,10.93
  c 1.07,0.67 1.02,1.37 0.36,1.98
    -0.67,0.49 -2.17,1.55 -2.17,1.55
  L 18.26,16.14
  13,19.77
  13,4.31
  l 5.94,4.12
  c 0,0 1.83,1.24 2.25,1.56
    0.55,0.43 1.36,0.94 1.36,0.94
  z
        </Geometry>

        <Geometry x:Key="Triangle2Geometry">
            M 7.99,0.89
  6.73,0
  C 6.09,-0.26 4.99,0.01 4.99,1.12
  l 0.01,21.99
  c 0,0.33 0.64,1.76 2.19,0.68
  L 7.86,23.32
  C 8.45,22.9 13,19.77 13,19.77
  L 13,4.31
  c 0,0 -2.91,-1.98 -3.91,-2.67
  z
        </Geometry>

        <Geometry x:Key="Square2Geometry">
            M 7.07,2.05
  h -2
  c -1.1,0 -2,0.9 -2,2
  V 20.05
  c 0,1.1 0.9,2 2,2
  h 2
  c 1.1,0 2,-0.9 2,-2
  V 4.05
  c 0,-1.1 -0.9,-2 -2,-2
  z
        </Geometry>
        <Geometry x:Key="Square3Geometry">
            m 19,4
  v 16
  c 0,1.1 -0.9,2 -2,2
  h -2
  c -1.1,0 -2,-0.9 -2,-2
  V 4
  c 0,-1.1 0.9,-2 2,-2
  h 2
  c 1.1,0 2,0.9 2,2
  z
        </Geometry>

        <Storyboard x:Key="StoryboardOnLoaded">
            <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">

                <hc:EasingGeometryKeyFrame KeyTime="0:0:1.2" Value="{StaticResource Square2Geometry}">
                    <hc:EasingGeometryKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </hc:EasingGeometryKeyFrame.EasingFunction>
                </hc:EasingGeometryKeyFrame>
            </hc:GeometryAnimationUsingKeyFrames>
            <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Data">

                <hc:EasingGeometryKeyFrame KeyTime="0:0:1.2" Value="{StaticResource Square3Geometry}">
                    <hc:EasingGeometryKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </hc:EasingGeometryKeyFrame.EasingFunction>
                </hc:EasingGeometryKeyFrame>
            </hc:GeometryAnimationUsingKeyFrames>

            <!--<DoubleAnimation Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="(Path.RenderTransform).(ScaleTransform.ScaleX)" To="0.5" Duration="0:0:1.2" />
            <DoubleAnimation Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="(Path.RenderTransform).(ScaleTransform.ScaleX)" To="0.5" Duration="0:0:1.2" />-->

            <ColorAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Fill.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#4099ff">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
            <ColorAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Stroke.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#4099ff">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>

            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Fill.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#4099ff">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Stroke.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#4099ff">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Key="StoryboardOffLoaded">
            <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Data">

                <hc:EasingGeometryKeyFrame KeyTime="0:0:1.2" Value="{StaticResource Triangle2Geometry}">
                    <hc:EasingGeometryKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </hc:EasingGeometryKeyFrame.EasingFunction>
                </hc:EasingGeometryKeyFrame>
            </hc:GeometryAnimationUsingKeyFrames>

            <hc:GeometryAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Data">

                <hc:EasingGeometryKeyFrame KeyTime="0:0:1.2" Value="{StaticResource Triangle3Geometry}">
                    <hc:EasingGeometryKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </hc:EasingGeometryKeyFrame.EasingFunction>
                </hc:EasingGeometryKeyFrame>
            </hc:GeometryAnimationUsingKeyFrames>

            <ColorAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Fill.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#3b5998">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Fill.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#3b5998">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>

            <ColorAnimationUsingKeyFrames Storyboard.TargetName="PathDemo" Storyboard.TargetProperty="Stroke.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#3b5998">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Path2Demo" Storyboard.TargetProperty="Stroke.(SolidColorBrush.Color)">

                <EasingColorKeyFrame KeyTime="0:0:1.2" Value="#3b5998">
                    <EasingColorKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseInOut" />
                    </EasingColorKeyFrame.EasingFunction>
                </EasingColorKeyFrame>
            </ColorAnimationUsingKeyFrames>
        </Storyboard>
    </FrameworkElement.Resources>

    <Grid>

        <hc:TransitioningContentControl>
            <Path
                        Name="PathDemo"
                        Data="{StaticResource Triangle2Geometry}"
                        Fill="#3b5998"
                        Stroke="#3b5998"
                        StrokeThickness="1">
                <Path.Style>
                    <Style TargetType="Path">
                        <Setter Property="RenderTransformOrigin" Value="0.6,0.5"></Setter>
                        <!--<Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=ToggleButton, Path=IsChecked}" Value="True">
                                        <Setter Property="RenderTransformOrigin" Value="0.65,0.53" />
                                        -->
                        <!-- ✅ This works in a Setter -->
                        <!--
                                    </DataTrigger>
                                </Style.Triggers>-->
                    </Style>
                </Path.Style>
                <Path.RenderTransform>
                    <ScaleTransform ScaleX="5" ScaleY="5" />
                </Path.RenderTransform>
            </Path>
        </hc:TransitioningContentControl>
        <hc:TransitioningContentControl>
            <Path
                        Name="Path2Demo"
                        Data="{StaticResource Triangle3Geometry}"
                        Fill="#3b5998"
                            Stroke="#3b5998"
                        StrokeThickness="1">

                <Path.RenderTransform>
                    <ScaleTransform ScaleX="5" ScaleY="5" />
                </Path.RenderTransform>
                <Path.Style>
                    <Style TargetType="Path">
                        <Setter Property="RenderTransformOrigin" Value="0.6,0.5"></Setter>
                        <!--<Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=ToggleButton, Path=IsChecked}" Value="True">
                                        <Setter Property="RenderTransformOrigin" Value="0.65,0.53" />
                                        -->
                        <!-- ✅ This works in a Setter -->
                        <!--
                                    </DataTrigger>
                                </Style.Triggers>-->
                    </Style>
                </Path.Style>
            </Path>
        </hc:TransitioningContentControl>
    </Grid>
    <i:Interaction.Triggers>
        <i:DataTrigger Binding="{Binding ElementName=ToggleButton, Path=IsChecked}" Value="True">
            <i:ControlStoryboardAction ControlStoryboardOption="Play" Storyboard="{StaticResource StoryboardOnLoaded}" />
        </i:DataTrigger>
        <i:DataTrigger Binding="{Binding ElementName=ToggleButton, Path=IsChecked}" Value="False">
            <i:ControlStoryboardAction ControlStoryboardOption="Play" Storyboard="{StaticResource StoryboardOffLoaded}" />
        </i:DataTrigger>
    </i:Interaction.Triggers>
</ToggleButton>