<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:_="http://ignore.me"
    xmlns:controls="clr-namespace:Leepfrog.WpfFramework.Controls"
    xmlns:conv="clr-namespace:Leepfrog.WpfFramework.Converters"
    xmlns:ei="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:leep="clr-namespace:Leepfrog.WpfFramework"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:trig="clr-namespace:Leepfrog.WpfFramework.Triggers"
    mc:Ignorable="_"
    >

    <conv:DoubleToThicknessConverter x:Key="DoubleToThicknessConverter" />

    <!--  scrollbar stuff  -->
    <Style
        x:Key="ScrollBarLineButton"
        TargetType="{x:Type RepeatButton}"
        >
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border
                        x:Name="Border"
                        Background="Transparent"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="2"
                        CornerRadius="200"
                        >
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver" />
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ColorAnimationUsingKeyFrames
                                            Storyboard.TargetName="Border"
                                            Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)"
                                            >
                                            <EasingColorKeyFrame
                                                KeyTime="0"
                                                Value="#FFFFFF"
                                                />
                                        </ColorAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames
                                            Storyboard.TargetName="Arrow"
                                            Storyboard.TargetProperty="(UIElement.Opacity)"
                                            >
                                            <EasingDoubleKeyFrame
                                                KeyTime="0"
                                                Value="0.5"
                                                />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Path
                            x:Name="Arrow"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}"
                            Stroke="{TemplateBinding BorderBrush}"
                            StrokeThickness="2"
                            />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style
        x:Key="ScrollBarPageButton"
        TargetType="{x:Type RepeatButton}"
        >
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border Background="Transparent" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style
        x:Key="ScrollBarThumbHorizontal"
        TargetType="{x:Type Thumb}"
        >
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Border
                        Background="#00000000"
                        BorderBrush="#00000000"
                        >
                        <Border
                            Margin="0,12"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            CornerRadius="3"
                            />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style
        x:Key="ScrollBarThumbVertical"
        TargetType="{x:Type Thumb}"
        >
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Border
                        Background="#00000000"
                        BorderBrush="#00000000"
                        >
                        <Border
                            Margin="12,0"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            CornerRadius="3"
                            />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate
        x:Key="VerticalScrollBar"
        TargetType="{x:Type ScrollBar}"
        >
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="{Binding ActualWidth, RelativeSource={RelativeSource FindAncestor, AncestorType=Grid}}" />
                <RowDefinition Height="0.00001*" />
                <RowDefinition Height="{Binding ActualWidth, RelativeSource={RelativeSource FindAncestor, AncestorType=Grid}}" />
            </Grid.RowDefinitions>
            <Border Grid.RowSpan="3" />
            <RepeatButton
                Grid.Row="0"
                BorderBrush="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                Command="ScrollBar.LineUpCommand"
                Content="M 0 4 L 4 0 L 8 4"
                Style="{StaticResource ScrollBarLineButton}"
                />
            <Track
                x:Name="PART_Track"
                Grid.Row="1"
                IsDirectionReversed="true"
                >
                <Track.DecreaseRepeatButton>
                    <RepeatButton
                        Command="ScrollBar.PageUpCommand"
                        Style="{StaticResource ScrollBarPageButton}"
                        />
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb
                        Background="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                        Style="{StaticResource ScrollBarThumbVertical}"
                        />
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton
                        Command="ScrollBar.PageDownCommand"
                        Style="{StaticResource ScrollBarPageButton}"
                        />
                </Track.IncreaseRepeatButton>
            </Track>
            <RepeatButton
                Grid.Row="3"
                BorderBrush="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                Command="ScrollBar.LineDownCommand"
                Content="M 0 0 L 4 4 L 8 0"
                Style="{StaticResource ScrollBarLineButton}"
                />
        </Grid>
    </ControlTemplate>
    <ControlTemplate
        x:Key="HorizontalScrollBar"
        TargetType="{x:Type ScrollBar}"
        >
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="{Binding ActualHeight, RelativeSource={RelativeSource FindAncestor, AncestorType=Grid}}" />
                <ColumnDefinition Width="0.00001*" />
                <ColumnDefinition Width="{Binding ActualHeight, RelativeSource={RelativeSource FindAncestor, AncestorType=Grid}}" />
            </Grid.ColumnDefinitions>
            <Border Grid.ColumnSpan="3" />
            <RepeatButton
                Grid.Column="0"
                BorderBrush="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                Command="ScrollBar.LineLeftCommand"
                Content="M4,0l-4,4l4,4"
                Style="{StaticResource ScrollBarLineButton}"
                />
            <Track
                x:Name="PART_Track"
                Grid.Column="1"
                IsDirectionReversed="false"
                >
                <Track.DecreaseRepeatButton>
                    <RepeatButton
                        Command="ScrollBar.PageLeftCommand"
                        Style="{StaticResource ScrollBarPageButton}"
                        />
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb
                        Background="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                        Style="{StaticResource ScrollBarThumbHorizontal}"
                        />
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton
                        Command="ScrollBar.PageRightCommand"
                        Style="{StaticResource ScrollBarPageButton}"
                        />
                </Track.IncreaseRepeatButton>
            </Track>
            <RepeatButton
                Grid.Column="3"
                BorderBrush="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ScrollViewer}, FallbackValue=#FF0000}"
                Command="ScrollBar.LineRightCommand"
                Content="M0,0l4,4l-4,4"
                Style="{StaticResource ScrollBarLineButton}"
                />
        </Grid>
    </ControlTemplate>


    <Style
        x:Key="{x:Type ScrollBar}"
        TargetType="{x:Type ScrollBar}"
        >
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Horizontal">
                <Setter Property="Width" Value="Auto" />
                <Setter Property="Height" Value="40" />
                <Setter Property="Template" Value="{StaticResource HorizontalScrollBar}" />
            </Trigger>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Width" Value="40" />
                <Setter Property="Height" Value="Auto" />
                <Setter Property="Template" Value="{StaticResource VerticalScrollBar}" />
            </Trigger>
        </Style.Triggers>
    </Style>


    <!--  end of scrollbar  -->


    <Style TargetType="{x:Type controls:TransitionContentPresenter}">
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:TransitionContentPresenter}">
                    <Grid Name="PART_root">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="ContentChanged">
                                <ei:CallMethodAction
                                    MethodName="Focus"
                                    TargetObject="PART_ContentHost"
                                    />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <ContentPresenter
                            Name="PART_ContentHost"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                            Content="{TemplateBinding Content}"
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            >
                            <ContentPresenter.RenderTransform>
                                <TranslateTransform />
                            </ContentPresenter.RenderTransform>
                        </ContentPresenter>
                        <ContentPresenter
                            Name="PART_StaleContentHost"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                            Content="{TemplateBinding StaleContent}"
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            IsHitTestVisible="False"
                            Visibility="Collapsed"
                            >
                            <ContentPresenter.RenderTransform>
                                <TranslateTransform />
                            </ContentPresenter.RenderTransform>
                        </ContentPresenter>
                    </Grid>
                    <!-- ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="local:TransitionContentPresenter.ContentChanged"-->
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type controls:SpaceTextBlock}">
        <Style.Setters>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type controls:SpaceTextBlock}">
                        <Grid 
                            Margin="2"
                            UseLayoutRounding="False" 
                            SnapsToDevicePixels="False"
                              >
                            <ItemsControl
                                Width="{TemplateBinding Width}"
                                Padding="2"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                Background="{TemplateBinding Background}"
                                ItemsSource="{TemplateBinding Content}"
                                UseLayoutRounding="False" 
                                SnapsToDevicePixels="False"
                                AlternationCount="999"
                                >
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Stretch"
                                            Orientation="Horizontal"
                                            UseLayoutRounding="False" 
                                            SnapsToDevicePixels="False"
                                            />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock
                                            _:Margin="{Binding Spacing, RelativeSource={RelativeSource AncestorType=controls:SpaceTextBlock}, Converter={StaticResource DoubleToThicknessConverter}, ConverterParameter=LR}"
                                            FontFamily="{TemplateBinding TextBlock.FontFamily}"
                                            FontSize="{TemplateBinding TextBlock.FontSize}"
                                            Foreground="{TemplateBinding TextBlock.Foreground}"
                                            Text="{Binding}"
                                            UseLayoutRounding="False" 
                                            SnapsToDevicePixels="False"
                                            >
                                            <TextBlock.RenderTransform>
                                                <TranslateTransform X="{conv:MathBinding a*2*(b-(c/2)),
                                                    {Binding Spacing, RelativeSource={RelativeSource AncestorType=controls:SpaceTextBlock}},
                                                    {leep:BindTo Template.(ItemsControl.AlternationIndex)},
                                                    {leep:BindTo Ancestor.ItemsControl.Items.Count}
                                                    }"
                                                                    />
                                            </TextBlock.RenderTransform>
                                        </TextBlock>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style TargetType="{x:Type controls:Spinner}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:Spinner}">
                    <ControlTemplate.Triggers>
                        <Trigger Property="Visibility" Value="Visible">
                            <Trigger.EnterActions>
                                <BeginStoryboard x:Name="BeginSpinStoryboard">
                                    <Storyboard>
                                        <DoubleAnimation
                                            RepeatBehavior="Forever"
                                            Storyboard.TargetName="PART_Spinner"
                                            Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                                            From="0"
                                            To="360"
                                            Duration="00:00:01"
                                            />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="BeginSpinStoryboard" />
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>

                    <Grid>
                        <Path
                            x:Name="PART_Spinner"
                            Width="60"
                            Height="60"
                            Data="                                       M 30,0A 30,30 0 0 0 5.51923788646684,47.5980762113533 L 10.3569160323171, 40.2935294361809 L 18.5096189432334,40.0980762113533 A 15,15 0 0 1 30,15 L 33.9070839975059,7.84182555722532Z                                        M 4.01923788646684,45A 30,30 0 0 0 57.4807621135332,42.4019237886467 L 48.735999970177, 41.8646450065938 L 44.4903810567666,34.9019237886467 A 15,15 0 0 1 17.0096189432334,37.5 L 8.85691603231706,37.6954532248276Z                                        M 55.9807621135332,45A 30,30 0 0 0 27,0 L 30.9070839975059, 7.84182555722532 L 27,15 A 15,15 0 0 1 42.9903810567666,37.5 L 47.235999970177,44.4627212179471Z                                        "
                            Fill="#FFFFFF"
                            RenderTransformOrigin="0.5,0.5"
                            Stroke="Transparent"
                            >
                            <Path.RenderTransform>
                                <RotateTransform />
                            </Path.RenderTransform>
                        </Path>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!--  PICKER WHEEL  -->
    <SolidColorBrush
        x:Key="ListBox.Static.Background"
        Color="#FFFFFFFF"
        />
    <SolidColorBrush
        x:Key="ListBox.Static.Border"
        Color="#FFABADB3"
        />
    <SolidColorBrush
        x:Key="ListBox.Disabled.Background"
        Color="#FFFFFFFF"
        />
    <SolidColorBrush
        x:Key="ListBox.Disabled.Border"
        Color="#FFD9D9D9"
        />

    <LinearGradientBrush x:Key="Shading" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Offset="0" Color="#40000000" />
        <GradientStop Offset="0.1" Color="#10000000" />
        <GradientStop Offset="0.3" Color="#00000000" />
        <GradientStop Offset="0.7" Color="#00000000" />
        <GradientStop Offset="0.9" Color="#20000000" />
        <GradientStop Offset="1" Color="#60000000" />
    </LinearGradientBrush>

    <Style TargetType="{x:Type controls:Picker}">
        <Setter Property="Background" Value="{StaticResource ListBox.Static.Background}" />
        <Setter Property="BorderBrush" Value="{StaticResource ListBox.Static.Border}" />
        <Setter Property="BorderThickness" Value="0" />
        <!--  Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/  -->
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden" />
        <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
        <Setter Property="ScrollViewer.PanningMode" Value="VerticalOnly" />
        <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:Picker}">
                    <Grid>
                        <Border
                            x:Name="Bd"
                            Padding="1"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            >
                            <controls:AnimatableScrollViewer
                                x:Name="PART_ScrollViewer"
                                Padding="{TemplateBinding Padding}"
                                Focusable="false"
                                >
                                <StackPanel>
                                    <StackPanel.RenderTransform>
                                        <TranslateTransform x:Name="PART_Translate" Y="0" />
                                    </StackPanel.RenderTransform>
                                    <StackPanel.Resources>
                                        <Style TargetType="{x:Type ListBoxItem}">
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="Padding" Value="4,1" />
                                            <Setter Property="HorizontalContentAlignment" Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
                                            <Setter Property="VerticalContentAlignment" Value="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="BorderBrush" Value="Transparent" />
                                            <Setter Property="BorderThickness" Value="5" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type ListBoxItem}">
                                                        <Border
                                                            x:Name="Bd"
                                                            Padding="{TemplateBinding Padding}"
                                                            Background="{TemplateBinding Background}"
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                            SnapsToDevicePixels="true"
                                                            >
                                                            <Border.Resources>
                                                                <DataTemplate DataType="{x:Type sys:Int32}">
                                                                    <TextBlock
                                                                        FontFamily="{leep:BindTo Ancestor.ListBox.FontFamily}"
                                                                        FontSize="{leep:BindTo Ancestor.ListBox.FontSize}"
                                                                        FontWeight="{leep:BindTo Ancestor.ListBox.FontWeight}"
                                                                        Foreground="{leep:BindTo Ancestor.ListBox.Foreground}"
                                                                        Text="{Binding}"
                                                                        />
                                                                </DataTemplate>
                                                                <DataTemplate DataType="{x:Type sys:String}">
                                                                    <TextBlock
                                                                        FontFamily="{leep:BindTo Ancestor.ListBox.FontFamily}"
                                                                        FontSize="{leep:BindTo Ancestor.ListBox.FontSize}"
                                                                        FontWeight="{leep:BindTo Ancestor.ListBox.FontWeight}"
                                                                        Foreground="{leep:BindTo Ancestor.ListBox.Foreground}"
                                                                        Text="{Binding}"
                                                                        />
                                                                </DataTemplate>
                                                            </Border.Resources>
                                                            <ContentPresenter
                                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                                />
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsSelected" Value="False">
                                                                <Setter TargetName="Bd" Property="Opacity" Value="0.5" />
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter TargetName="Bd" Property="TextElement.Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </StackPanel.Resources>
                                    <Grid
                                        x:Name="PART_SpaceTop"
                                        Height="{leep:BindTo #Bd.ActualHeight}"
                                        >
                                        <Grid.Background>
                                            <VisualBrush
                                                AlignmentY="Bottom"
                                                Stretch="None"
                                                Visual="{leep:BindTo #PART_Items}"
                                                />
                                        </Grid.Background>
                                    </Grid>
                                    <ItemsPresenter
                                        x:Name="PART_Items"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                        />
                                    <Grid
                                        x:Name="PART_SpaceBottom"
                                        Height="{leep:BindTo #Bd.ActualHeight}"
                                        >
                                        <Grid.Background>
                                            <VisualBrush
                                                AlignmentY="Top"
                                                Stretch="None"
                                                Visual="{leep:BindTo #PART_Items}"
                                                />
                                        </Grid.Background>
                                    </Grid>
                                </StackPanel>
                            </controls:AnimatableScrollViewer>
                        </Border>
                        <!--  shadow  -->
                        <Rectangle
                            Fill="{StaticResource Shading}"
                            IsHitTestVisible="False"
                            Stretch="Fill"
                            />
                        <Grid
                            x:Name="PART_Highlight"
                            Height="50"
                            VerticalAlignment="Center"
                            IsHitTestVisible="False"
                            >
                            <Line
                                Margin="2,-2"
                                VerticalAlignment="Top"
                                Stretch="Fill"
                                Stroke="#0000FF"
                                StrokeThickness="2"
                                X1="0"
                                X2="1"
                                />
                            <Line
                                Margin="2,-2"
                                VerticalAlignment="Bottom"
                                Stretch="Fill"
                                Stroke="#0000FF"
                                StrokeThickness="2"
                                X1="0"
                                X2="1"
                                />
                        </Grid>
                        <!--  rounded edge  -->
                        <Path
                            x:Name="PART_RoundedLeft"
                            Width="5"
                            HorizontalAlignment="Left"
                            Data="M0,0 h1 a1,1 0,0,0 0,2 h-1 z"
                            Fill="#000000"
                            Stretch="Fill"
                            />
                        <Path
                            x:Name="PART_RoundedRight"
                            Width="5"
                            HorizontalAlignment="Right"
                            Data="M1,0 h-1 a1,1 0,0,1 0,2 h1 z"
                            Fill="#000000"
                            Stretch="Fill"
                            />

                        <!--
                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" Background="#FFFFFF" Text="{Binding Items.Count, RelativeSource={RelativeSource TemplatedParent},FallbackValue=none}" Foreground="#000000" Opacity="0.5" IsHitTestVisible="False" FontSize="24" />
                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="#FFFFFF" Text="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent},FallbackValue=none}" Foreground="#000000" Opacity="0.5" IsHitTestVisible="False" FontSize="24" />
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Top" Background="#FFFFFF" Text="{leep:BindTo #PART_ScrollViewer.CurrentVerticalOffset,Fallback=none}" Foreground="#000000" Opacity="0.5" IsHitTestVisible="False" FontSize="24" />
                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Bottom" Background="#FFFFFF" Text="{leep:BindTo #PART_Translate.Y,Fallback=none}" Foreground="#000000" Opacity="0.5" IsHitTestVisible="False" FontSize="24" />
                        -->
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsRepeating" Value="False">
                            <Setter TargetName="PART_SpaceTop" Property="Background" Value="Transparent" />
                            <Setter TargetName="PART_SpaceBottom" Property="Background" Value="Transparent" />
                        </Trigger>
                        <Trigger Property="IsRoundedLeft" Value="False">
                            <Setter TargetName="PART_RoundedLeft" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsRoundedRight" Value="False">
                            <Setter TargetName="PART_RoundedRight" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource ListBox.Disabled.Background}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource ListBox.Disabled.Border}" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsGrouping" Value="true" />
                                <Condition Property="VirtualizingPanel.IsVirtualizingWhenGrouping" Value="false" />
                            </MultiTrigger.Conditions>
                            <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                        </MultiTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <Style TargetType="{x:Type controls:TimePicker}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:TimePicker}">
                    <Grid Focusable="False">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <controls:PlusMinusControl
                            Grid.Column="0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                            FontFamily="{leep:BindTo ancestor.controls:TimePicker.FontFamily}"
                            Foreground="{leep:BindTo ancestor.controls:TimePicker.Foreground}"
                            Maximum="23"
                            Minimum="0"
                            SmallChange="1"
                            Value="{leep:BindTo Template.Hour}"
                            Orientation="Vertical"
                            IsWrapping="True"
                            >
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                                    Foreground="{leep:BindTo ancestor.controls:TimePicker.Foreground}"
                                    Text="{leep:BindTo Template.Hour, Nullback=24, Format=00}"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Use24HourClock},True,Visible,Collapsed}"
                                    />
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                                    Foreground="{leep:BindTo ancestor.controls:TimePicker.Foreground}"
                                    Text="{leep:BindTo Template.Hour12, Nullback=12}"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Use24HourClock},True,Collapsed,Visible}"
                                    />
                            </Grid>
                        </controls:PlusMinusControl>
                        <Border
                            Grid.Column="1"
                            Margin="2,0"
                            Padding="5"
                            >
                            <TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                                Foreground="#FFFFFF"
                                Text=":"
                                />
                        </Border>
                        <controls:PlusMinusControl
                            Grid.Column="2"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                            FontFamily="{leep:BindTo ancestor.controls:TimePicker.FontFamily}"
                            Foreground="{leep:BindTo ancestor.controls:TimePicker.Foreground}"
                            Maximum="50"
                            Minimum="0"
                            SmallChange="10"
                            Value="{leep:BindTo Template.Minute}"
                            Orientation="Vertical"
                            IsWrapping="True"
                            >
                            <TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                                Foreground="{leep:BindTo ancestor.controls:TimePicker.Foreground}"
                                Text="{leep:BindTo Template.Minute, Nullback=60, Format=00}"
                                />
                        </controls:PlusMinusControl>
                        <Canvas  _:_="am/pm"
                            Grid.Column="3"
                            Width="0"
                            VerticalAlignment="Center"
                            Height="{leep:BindTo #ctlAmPm.ActualHeight}"
                            >
                            <Border
                                x:Name="ctlAmPm"
                                Margin="2,0"
                                Padding="5"
                                Visibility="{leep:IfBinding {leep:BindTo Template.Use24HourClock},True,Collapsed,Visible}"
                                >
                                <Viewbox MaxWidth="150"
                                         Stretch="Uniform"
                                         StretchDirection="DownOnly"
                                         VerticalAlignment="Center"
                                         >
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="{leep:BindTo ancestor.controls:TimePicker.FontSize}"
                                        Foreground="#FFFFFF"
                                        Text="{leep:BindTo Template.AmPm}"
                                        />
                                </Viewbox>
                            </Border>
                        </Canvas>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type controls:DatePicker}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:DatePicker}">
                    <Grid Focusable="False">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="30" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="30" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <controls:PlusMinusControl
                            Grid.Column="{leep:BindTo Template.ColumnDay}"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                            Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                            Minimum="0"
                            Maximum="31"
                            SmallChange="1"
                            Value="{leep:BindTo Template.Day}"
                            Orientation="Vertical"
                            IsWrapping="True"
                            >
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                                    Foreground="{leep:IfBinding {leep:BindTo Template.IsValid},False,{leep:BindTo ancestor.controls:DatePicker.ForegroundInvalid},{leep:BindTo ancestor.controls:DatePicker.Foreground}}"

                                    Text="{leep:BindTo Template.Day}"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Day},'0',Collapsed,Visible}"
                                    />
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{conv:MathBinding a/2,{leep:BindTo ancestor.controls:DatePicker.FontSize}}"
                                    Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                                    Opacity="0.5"
                                    Text="DAY"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Day},'0',Visible,Collapsed}"
                                    />
                            </Grid>
                        </controls:PlusMinusControl>
                        <controls:PlusMinusControl
                            Grid.Column="{leep:BindTo Template.ColumnMonth}"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                            Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                            Minimum="0"
                            Maximum="12"
                            SmallChange="1"
                            Value="{leep:BindTo Template.Month}"
                            Orientation="Vertical"
                            IsWrapping="True"
                            >
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                                    Foreground="{leep:IfBinding {leep:BindTo Template.IsValid},False,{leep:BindTo ancestor.controls:DatePicker.ForegroundInvalid},{leep:BindTo ancestor.controls:DatePicker.Foreground}}"

                                    Text="{leep:BindTo Template.MonthDisplay}"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Month},'0',Collapsed,Visible}"
                                    />
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{conv:MathBinding a/2,{leep:BindTo ancestor.controls:DatePicker.FontSize}}"
                                    Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                                    Opacity="0.5"
                                    Text="MONTH"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Month},'0',Visible,Collapsed}"
                                    />
                            </Grid>
                        </controls:PlusMinusControl>
                        <controls:PlusMinusControl
                            Grid.Column="{leep:BindTo Template.ColumnYear}"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                            Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                            Maximum="{leep:BindTo Template.Maximum.Year}"
                            Minimum="{leep:BindTo Template.Minimum.Year}"
                            SmallChange="1"
                            Value="{leep:BindTo Template.Year}"
                            Orientation="Vertical"
                            IsWrapping="True"
                            >
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{leep:BindTo ancestor.controls:DatePicker.FontSize}"
                                    Foreground="{leep:IfBinding {leep:BindTo Template.IsValid},False,{leep:BindTo ancestor.controls:DatePicker.ForegroundInvalid},{leep:BindTo ancestor.controls:DatePicker.Foreground}}"
                                    Text="{leep:BindTo Template.Year}"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Year},'0',Collapsed,Visible}"
                                    />
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="{conv:MathBinding a/2,{leep:BindTo ancestor.controls:DatePicker.FontSize}}"
                                    Foreground="{leep:BindTo ancestor.controls:DatePicker.Foreground}"
                                    Opacity="0.5"
                                    Text="YEAR"
                                    Visibility="{leep:IfBinding {leep:BindTo Template.Year},'0',Visible,Collapsed}"
                                    />
                            </Grid>
                        </controls:PlusMinusControl>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style
        BasedOn="{StaticResource {x:Type TabControl}}"
        TargetType="{x:Type controls:TabControl2}"
        >
        <Setter Property="Padding" Value="2" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:TabControl2}">
                    <Grid
                        x:Name="templateRoot"
                        ClipToBounds="true"
                        KeyboardNavigation.TabNavigation="Local"
                        SnapsToDevicePixels="true"
                        >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <TabPanel
                            x:Name="headerPanel"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="{conv:MathBinding 0-a,
                                                      {leep:BindTo #headerPanel.ActualHeight},
                                                      Converter={conv:DoubleToThicknessConverter},
                                                      Param=B}"
                            Panel.ZIndex="1"
                            Background="Transparent"
                            IsItemsHost="true"
                            KeyboardNavigation.TabIndex="1"
                            Opacity="0.3"
                            Visibility="{leep:IfBinding {leep:BindTo Template.IsInDesignMode}, true, Visible, Collapsed}"
                            />
                        <Border
                            x:Name="contentPanel"
                            Grid.Row="1"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            KeyboardNavigation.DirectionalNavigation="Contained"
                            KeyboardNavigation.TabIndex="2"
                            KeyboardNavigation.TabNavigation="Local"
                            >
                            <ContentPresenter
                                x:Name="PART_SelectedContentHost"
                                Margin="{TemplateBinding Padding}"
                                ContentSource="SelectedContent"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="templateRoot" Property="TextElement.Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style
        x:Key="fadeyScroller"
        TargetType="{x:Type ScrollViewer}"
        >
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="BorderBrush" Value="#000000" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollViewer">
                    <Border
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="2"
                        >
                        <i:Interaction.Triggers>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.VerticalOffset}"
                                Comparison="Equal"
                                Value="0"
                                >
                                <ei:GoToStateAction
                                    StateName="top_Off"
                                    TargetObject="{leep:BindTo #topVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.VerticalOffset}"
                                Comparison="NotEqual"
                                Value="0"
                                leep:If.If="{Condition {Compare {leep:BindTo template.VerticalScrollBarVisibility}, NotEqual, Disabled}}"
                                >
                                <ei:GoToStateAction
                                    StateName="top_On"
                                    TargetObject="{leep:BindTo #topVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.VerticalOffset}"
                                Comparison="GreaterThanOrEqual"
                                Value="{leep:BindTo template.ScrollableHeight}"
                                >
                                <ei:GoToStateAction
                                    StateName="bottom_Off"
                                    TargetObject="{leep:BindTo #bottomVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.VerticalOffset}"
                                Comparison="LessThan"
                                Value="{leep:BindTo template.ScrollableHeight}"
                                leep:If.If="{Condition {Compare {leep:BindTo template.VerticalScrollBarVisibility}, NotEqual, Disabled}}"
                                >
                                <ei:GoToStateAction
                                    StateName="bottom_On"
                                    TargetObject="{leep:BindTo #bottomVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.HorizontalOffset}"
                                Comparison="Equal"
                                Value="0"
                                >
                                <ei:GoToStateAction
                                    StateName="left_Off"
                                    TargetObject="{leep:BindTo #leftVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.HorizontalOffset}"
                                Comparison="NotEqual"
                                Value="0"
                                leep:If.If="{Condition {Compare {leep:BindTo template.HorizontalScrollBarVisibility}, NotEqual, Disabled}}"
                                >
                                <ei:GoToStateAction
                                    StateName="left_On"
                                    TargetObject="{leep:BindTo #leftVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.HorizontalOffset}"
                                Comparison="GreaterThanOrEqual"
                                Value="{leep:BindTo template.ScrollableWidth}"
                                >
                                <ei:GoToStateAction
                                    StateName="right_Off"
                                    TargetObject="{leep:BindTo #rightVM}"
                                    />
                            </trig:DataTrigger>
                            <trig:DataTrigger
                                Binding="{leep:BindTo template.HorizontalOffset}"
                                Comparison="LessThan"
                                Value="{leep:BindTo template.ScrollableWidth}"
                                leep:If.If="{Condition {Compare {leep:BindTo template.HorizontalScrollBarVisibility}, NotEqual, Disabled}}"
                                >
                                <ei:GoToStateAction
                                    StateName="right_On"
                                    TargetObject="{leep:BindTo #rightVM}"
                                    />
                            </trig:DataTrigger>
                        </i:Interaction.Triggers>

                        <Grid Background="{TemplateBinding Background}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Grid SnapsToDevicePixels="True">
                                <Grid.Resources>
                                    <QuadraticEase
                                        x:Key="EaseOut"
                                        EasingMode="EaseOut"
                                        />
                                </Grid.Resources>
                                <Grid.OpacityMask>
                                    <VisualBrush Visual="{leep:BindTo #ctlMaskVertical}" />
                                </Grid.OpacityMask>
                                <Grid>
                                    <Grid.OpacityMask>
                                        <VisualBrush Visual="{leep:BindTo #ctlMaskHorizontal}" />
                                    </Grid.OpacityMask>
                                    <Grid Visibility="Hidden">
                                        <Grid
                                            x:Name="ctlMaskHorizontal"
                                            Height="1"
                                            >
                                            <Rectangle
                                                x:Name="leftVM"
                                                Width="100"
                                                HorizontalAlignment="Left"
                                                >
                                                <Rectangle.Fill>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Offset="0" Color="#00000000" />
                                                        <GradientStop x:Name="leftOffset" Offset="0" Color="#FF000000" />
                                                    </LinearGradientBrush>
                                                </Rectangle.Fill>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup Name="left_OnOff">
                                                        <VisualState Name="left_Off">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="leftOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="0"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                                <!--  ColorAnimation To="#FF0000" Storyboard.Target="{leep:BindTo #scroller}" Storyboard.TargetProperty="Background.Color" / =  -->
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState Name="left_On">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="leftOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="1"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                                <!--  ColorAnimation To="#FF0000" Storyboard.Target="{leep:BindTo #scroller}" Storyboard.TargetProperty="Background.Color" / =  -->
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                            </Rectangle>
                                            <Rectangle
                                                Margin="100,0"
                                                Fill="#FF000000"
                                                />
                                            <Rectangle
                                                x:Name="rightVM"
                                                Width="100"
                                                HorizontalAlignment="Right"
                                                >
                                                <Rectangle.Fill>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop x:Name="rightOffset" Offset="1" Color="#FF000000" />
                                                        <GradientStop Offset="1" Color="#00000000" />
                                                    </LinearGradientBrush>
                                                </Rectangle.Fill>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup Name="right_OnOff">
                                                        <VisualState Name="right_Off">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="rightOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="1"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState Name="right_On">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="rightOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="0"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                            </Rectangle>
                                        </Grid>
                                        <Grid
                                            x:Name="ctlMaskVertical"
                                            Width="1"
                                            >
                                            <Rectangle
                                                x:Name="topVM"
                                                Height="100"
                                                VerticalAlignment="Top"
                                                >
                                                <Rectangle.Fill>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Offset="0" Color="#00000000" />
                                                        <GradientStop x:Name="topOffset" Offset="0" Color="#FF000000" />
                                                    </LinearGradientBrush>
                                                </Rectangle.Fill>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup Name="top_OnOff">
                                                        <VisualState Name="top_Off">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="topOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="0"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                                <!--  ColorAnimation To="#FF0000" Storyboard.Target="{leep:BindTo #scroller}" Storyboard.TargetProperty="Background.Color" / =  -->
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState Name="top_On">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="topOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="1"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                                <!--  ColorAnimation To="#FF0000" Storyboard.Target="{leep:BindTo #scroller}" Storyboard.TargetProperty="Background.Color" / =  -->
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                            </Rectangle>
                                            <Rectangle
                                                Margin="0,100"
                                                Fill="#FF000000"
                                                />
                                            <Rectangle
                                                x:Name="bottomVM"
                                                Height="100"
                                                VerticalAlignment="Bottom"
                                                >
                                                <Rectangle.Fill>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop x:Name="bottomOffset" Offset="1" Color="#FF000000" />
                                                        <GradientStop Offset="1" Color="#00000000" />
                                                    </LinearGradientBrush>
                                                </Rectangle.Fill>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup Name="bottom_OnOff">
                                                        <VisualState Name="bottom_Off">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="bottomOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="1"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState Name="bottom_On">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    EasingFunction="{StaticResource EaseOut}"
                                                                    Storyboard.TargetName="bottomOffset"
                                                                    Storyboard.TargetProperty="Offset"
                                                                    To="0"
                                                                    Duration="00:00:00.3"
                                                                    />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                            </Rectangle>
                                        </Grid>
                                    </Grid>
                                    <ScrollContentPresenter
                                        x:Name="PART_ScrollContentPresenter"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="{TemplateBinding Padding}"
                                        CanContentScroll="{TemplateBinding CanContentScroll}"
                                        CanHorizontallyScroll="False"
                                        CanVerticallyScroll="False"
                                        Content="{TemplateBinding Content}"
                                        ContentTemplate="{TemplateBinding ContentTemplate}"
                                        Cursor="{TemplateBinding Cursor}"
                                        />
                                </Grid>
                            </Grid>
                            <Rectangle
                                x:Name="Corner"
                                Grid.Row="1"
                                Grid.Column="1"
                                Fill="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"
                                Visibility="Collapsed"
                                />
                            <ScrollBar
                                x:Name="PART_VerticalScrollBar"
                                Grid.Row="0"
                                Grid.Column="1"
                                AutomationProperties.AutomationId="VerticalScrollBar"
                                Cursor="Arrow"
                                Maximum="{TemplateBinding ScrollableHeight}"
                                Minimum="0"
                                ViewportSize="{TemplateBinding ViewportHeight}"
                                Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                />
                            <ScrollBar
                                x:Name="PART_HorizontalScrollBar"
                                Grid.Row="1"
                                Grid.Column="0"
                                AutomationProperties.AutomationId="HorizontalScrollBar"
                                Cursor="Arrow"
                                Maximum="{TemplateBinding ScrollableWidth}"
                                Minimum="0"
                                Orientation="Horizontal"
                                ViewportSize="{TemplateBinding ViewportWidth}"
                                Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                                Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                />

                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!--#region DialSlider-->
    <Style TargetType="{x:Type controls:DialSlider}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:DialSlider}">
                    <Grid>
                        <Ellipse
                            Fill="#00000000"
                            Stroke="#FFFFFF"
                            StrokeThickness="3"
                            />

                        <Grid RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <RotateTransform Angle="{conv:MathBinding ((330*(a-b))/(c-b)), {leep:BindTo Template.Value}, {leep:BindTo Template.Minimum, Nullback=0}, {leep:BindTo Template.Maximum, Nullback=1}}" />
                            </Grid.RenderTransform>

                            <Grid Margin="10">
                                <Ellipse
                                    Width="5"
                                    Height="5"
                                    Margin="2"
                                    VerticalAlignment="Top"
                                    Fill="#FFFFFFFF"
                                    />
                            </Grid>
                        </Grid>
                        <Grid
                            Margin="8"
                            Opacity="0.5"
                            SnapsToDevicePixels="False"
                            >
                            <Grid
                                RenderTransform="{leep:RotateTransform 0.0}"
                                RenderTransformOrigin="0.5,0.5"
                                SnapsToDevicePixels="False"
                                >
                                <Rectangle
                                    Width="2"
                                    Height="5"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Fill="#FFFFFF"
                                    />
                            </Grid>
                            <Grid
                                RenderTransform="{leep:RotateTransform -30.0}"
                                RenderTransformOrigin="0.5,0.5"
                                SnapsToDevicePixels="False"
                                >
                                <Rectangle
                                    Width="2"
                                    Height="5"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Fill="#FFFFFF"
                                    />
                            </Grid>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!--#endregion-->


    <!--#region  PlusMinusControl-->
    <Style TargetType="controls:PlusMinusControl">
        <Style.Resources>
            <DataTemplate x:Key="DefaultContentTemplate">
                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=controls:PlusMinusControl}}"
                    Foreground="{Binding Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=controls:PlusMinusControl}}"
                    Text="{Binding Value, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=controls:PlusMinusControl}}"
                    />
            </DataTemplate>
            <ControlTemplate x:Key="ControlTemplateHorizontal" TargetType="controls:PlusMinusControl">
                <Grid _:_="CONTAINER">
                    <Grid.Resources>
                        <Style TargetType="RepeatButton">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="RepeatButton">
                                        <Grid _:_="EXPANDED BACKGROUND TO MAKE BUTTON EASIER TO HIT!"
                                                Margin="-20,-50"
                                                Background="Transparent"
                                                >
                                            <Grid Margin="20,50">
                                                <Ellipse
                                                        Stroke="{TemplateBinding Background}"
                                                        StrokeThickness="3"
                                                        />
                                                <Path
                                                        Margin="10"
                                                        Data="{leep:BindTo Template.Content}"
                                                        Stretch="Fill"
                                                        Stroke="{TemplateBinding Background}"
                                                        StrokeEndLineCap="Round"
                                                        StrokeStartLineCap="Round"
                                                        StrokeThickness="3"
                                                        />
                                            </Grid>
                                        </Grid>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Grid.Resources>
                    <Grid
                            SnapsToDevicePixels="True"
                            Visibility="Hidden"
                            >
                        <Grid
                                x:Name="ctlOpacityMask"
                                Margin="-3,0"
                                >
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition Height="{conv:MathBinding a+6, {Binding ActualHeight, ElementName=ctlMinus}}" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{conv:MathBinding a+6, {Binding ActualWidth, ElementName=ctlMinus}}" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="{conv:MathBinding a+6, {Binding ActualWidth, ElementName=ctlMinus}}" />
                            </Grid.ColumnDefinitions>
                            <Rectangle
                                    Grid.RowSpan="3"
                                    Grid.Column="1"
                                    Fill="#FFFFFFFF"
                                    />
                            <Path
                                    x:Name="ctlMinusBorder"
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Data="M0,0 M2,0 h-1 a1,1 0,0,1 0,2 h1 "
                                    Fill="#FFFFFFFF"
                                    Stretch="Uniform"
                                    />
                            <Path
                                    Grid.Row="1"
                                    Grid.Column="2"
                                    Data="M2,0 M1,0 a1,1 0,0,0 0,2 h-1 v-2 "
                                    Fill="#FFFFFFFF"
                                    Stretch="Uniform"
                                    />
                            <Rectangle
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Width="{conv:MathBinding a/2,
                                                             {Binding ActualWidth, ElementName=ctlMinusBorder}}"
                                    HorizontalAlignment="Right"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Row="2"
                                    Grid.Column="0"
                                    Width="{conv:MathBinding a/2,
                                                             {Binding ActualWidth, ElementName=ctlMinusBorder}}"
                                    HorizontalAlignment="Right"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Row="0"
                                    Grid.Column="2"
                                    Width="{conv:MathBinding a/2,
                                                             {Binding ActualWidth, ElementName=ctlMinusBorder}}"
                                    HorizontalAlignment="Left"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Row="2"
                                    Grid.Column="2"
                                    Width="{conv:MathBinding a/2,
                                                             {Binding ActualWidth, ElementName=ctlMinusBorder}}"
                                    HorizontalAlignment="Left"
                                    Fill="#FFFFFFFF"
                                    />

                        </Grid>
                    </Grid>
                    <Rectangle
                            Margin="{conv:MathBinding a/2,
                                                      {Binding ActualWidth, ElementName=ctlMinus},
                                                      Converter={conv:DoubleToThicknessConverter},
                                                      Param=LR}"
                            Fill="{TemplateBinding Background}"
                            RadiusX="10"
                            RadiusY="10"
                            >
                        <Rectangle.OpacityMask>
                            <VisualBrush
                                    Stretch="None"
                                    Visual="{leep:BindTo #ctlOpacityMask}"
                                    />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <ContentPresenter
                            Margin="{conv:MathBinding a+6,
                                                      {Binding ActualWidth, ElementName=ctlMinus},
                                                      Converter={conv:DoubleToThicknessConverter},
                                                      Param=LR}"
                            Content="{leep:BindTo Template.Content}"
                            ContentTemplate="{leep:BindTo Template.ContentTemplate, Nullback={x:Null}}"
                            >
                        <ContentPresenter.Resources>
                            <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}" />
                        </ContentPresenter.Resources>
                    </ContentPresenter>
                    <Grid _:_="MinusButton"
                            x:Name="ctlMinus"
                            Width="{leep:BindTo this.ActualHeight}"
                            Height="{leep:BindTo ancestor.1.ActualHeight}"
                            MaxHeight="50"
                            HorizontalAlignment="Left"
                            >
                        <RepeatButton
                                x:Name="PART_Minus"
                                Content="M0,1 h2"
                                />
                    </Grid>
                    <Grid _:_="PlusButton"
                            Width="{leep:BindTo this.ActualHeight}"
                            Height="{leep:BindTo ancestor.1.ActualHeight}"
                            MaxHeight="50"
                            HorizontalAlignment="Right"
                            SnapsToDevicePixels="False"
                            >
                        <RepeatButton
                                x:Name="PART_Plus"
                                Content="M1,0 v2 M0,1 h2"
                                />
                    </Grid>
                </Grid>
            </ControlTemplate>
            <ControlTemplate x:Key="ControlTemplateVertical" TargetType="controls:PlusMinusControl">
                <Grid _:_="CONTAINER">
                    <Grid.Resources>
                        <Style TargetType="RepeatButton">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="RepeatButton">
                                        <Grid _:_="EXPANDED BACKGROUND TO MAKE BUTTON EASIER TO HIT!"
                                                Margin="-50,-20"
                                                Background="Transparent"
                                                >
                                            <Grid Margin="50,20">
                                                <Ellipse
                                                        Stroke="{TemplateBinding Background}"
                                                        StrokeThickness="3"
                                                        />
                                                <Path
                                                        Margin="10"
                                                        Data="{leep:BindTo Template.Content}"
                                                        Stretch="Fill"
                                                        Stroke="{TemplateBinding Background}"
                                                        StrokeEndLineCap="Round"
                                                        StrokeStartLineCap="Round"
                                                        StrokeThickness="3"
                                                        />
                                            </Grid>
                                        </Grid>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Grid.Resources>
                    <Grid
                            SnapsToDevicePixels="True"
                            Visibility="Hidden"
                            >
                        <Grid
                                x:Name="ctlOpacityMask"
                                Margin="0,-3"
                                >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="{conv:MathBinding a+6, {Binding ActualHeight, ElementName=ctlMinus}}" />
                                <RowDefinition />
                                <RowDefinition Height="{conv:MathBinding a+6, {Binding ActualHeight, ElementName=ctlMinus}}" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="{conv:MathBinding a+6, {Binding ActualWidth, ElementName=ctlMinus}}" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Rectangle
                                    Grid.ColumnSpan="3"
                                    Grid.Row="1"
                                    Fill="#FFFFFFFF"
                                    />
                            <Path
                                    x:Name="ctlMinusBorder"
                                    Grid.Column="1"
                                    Grid.Row="0"
                                    Data="M0,0 M0,2 v-1 a1,1 0,0,0 2,0 v1 "
                                    Fill="#FFFFFFFF"
                                    Stretch="Uniform"
                                    />
                            <Path
                                    Grid.Column="1"
                                    Grid.Row="2"
                                    Data="M0,2 M0,1 a1,1 0,0,1 2,0 v-1 h-2 "
                                    Fill="#FFFFFFFF"
                                    Stretch="Uniform"
                                    />
                            <Rectangle
                                    Grid.Column="0"
                                    Grid.Row="0"
                                    Height="{conv:MathBinding a/2,
                                                             {Binding ActualHeight, ElementName=ctlMinusBorder}}"
                                    VerticalAlignment="Bottom"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Column="2"
                                    Grid.Row="0"
                                    Height="{conv:MathBinding a/2,
                                                             {Binding ActualHeight, ElementName=ctlMinusBorder}}"
                                    VerticalAlignment="Bottom"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Column="0"
                                    Grid.Row="2"
                                    Height="{conv:MathBinding a/2,
                                                             {Binding ActualHeight, ElementName=ctlMinusBorder}}"
                                    VerticalAlignment="Top"
                                    Fill="#FFFFFFFF"
                                    />
                            <Rectangle
                                    Grid.Column="2"
                                    Grid.Row="2"
                                    Height="{conv:MathBinding a/2,
                                                             {Binding ActualHeight, ElementName=ctlMinusBorder}}"
                                    VerticalAlignment="Top"
                                    Fill="#FFFFFFFF"
                                    />

                        </Grid>
                    </Grid>
                    <Rectangle
                            Margin="{conv:MathBinding a/2,
                                                      {Binding ActualHeight, ElementName=ctlMinus},
                                                      Converter={conv:DoubleToThicknessConverter},
                                                      Param=TB}"
                            Fill="{TemplateBinding Background}"
                            RadiusX="10"
                            RadiusY="10"
                            >
                        <Rectangle.OpacityMask>
                            <VisualBrush
                                    Stretch="None"
                                    Visual="{leep:BindTo #ctlOpacityMask}"
                                    />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <ContentPresenter
                            Margin="{conv:MathBinding a+6,
                                                      {Binding ActualHeight, ElementName=ctlMinus},
                                                      Converter={conv:DoubleToThicknessConverter},
                                                      Param=TB}"
                            Content="{leep:BindTo Template.Content}"
                            ContentTemplate="{leep:BindTo Template.ContentTemplate, Nullback={x:Null}}"
                            >
                        <ContentPresenter.Resources>
                            <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}" />
                        </ContentPresenter.Resources>
                    </ContentPresenter>
                    <Grid _:_="MinusButton"
                            x:Name="ctlMinus"
                            Height="{leep:BindTo this.ActualWidth}"
                            Width="{leep:BindTo ancestor.1.ActualWidth}"
                            MaxWidth="50"
                            VerticalAlignment="Bottom"
                            >
                        <RepeatButton
                                x:Name="PART_Minus"
                                Content="M0,1 h2"
                                />
                    </Grid>
                    <Grid _:_="PlusButton"
                            Height="{leep:BindTo this.ActualWidth}"
                            Width="{leep:BindTo ancestor.1.ActualWidth}"
                            MaxWidth="50"
                            VerticalAlignment="Top"
                            SnapsToDevicePixels="False"
                            >
                        <RepeatButton
                                x:Name="PART_Plus"
                                Content="M1,0 v2 M0,1 h2"
                                />
                    </Grid>
                </Grid>
            </ControlTemplate>

        </Style.Resources>
        <Style.Triggers>
            <Trigger Property="Content" Value="{x:Null}">
                <Setter Property="ContentTemplate" Value="{StaticResource DefaultContentTemplate}" />
            </Trigger>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Template" Value="{StaticResource ControlTemplateVertical}" />
            </Trigger>
        </Style.Triggers>
        <Setter Property="Background" Value="#FFFFFF" />
        <Setter Property="Foreground" Value="#000000" />
        <Setter Property="SmallChange" Value="1" />
        <Setter Property="FontSize" Value="40" />
        <Setter Property="Template" Value="{StaticResource ControlTemplateHorizontal}" />
    </Style>


    <!--#endregion-->


</ResourceDictionary>
